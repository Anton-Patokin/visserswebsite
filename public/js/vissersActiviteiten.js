myApp.controller("vissersActiviteitenController",["$scope","$http","$cookies","$timeout","$window",function(e,t,a,o,n){function s(t,a){e.visvanstMapMarker.coords={latitude:t,longitude:a},e.visVagst.lat=t,e.visVagst.lng=a}e.ShowvisActiviteitenPopUp=!a.get("visActiviteitenWeek"),e.showModalVisActiviteiten=!1,e.animatePopUp=!1,e.visVagnstShowGoolgeMaps=!1,e.visvanstMapMarkershowMarker=!1,a.get("visActiviteitenWeek")||o(function(){e.animatePopUp=!a.get("visActiviteitenWeek")},5e3);var i=new Date;e.visVagst={id:"",vissen:[{aantal:0,soort:""}],lat:"",lng:"",gevangen:"3",nietGevangen:"3",vangst:"",myDate:i,isOpen:!1},e.nogEenVisSoort=function(){e.visVagst.vissen.push({aantal:0,soort:""})},e.verwijderVisSoort=function(t){e.visVagst.vissen.splice(t,1)},e.minDate=new Date(i.getFullYear(),i.getMonth()-1,i.getDate()),e.maxDate=new Date(i.getFullYear(),i.getMonth(),i.getDate());var r=i;e.onlyWeekendsPredicate=function(e){var t=e.getDate(),a=e.getMonth();return console.log("day",a),t<=r.getDate()||a<r.getMonth()},e.submitVisVangstModalForm=function(){e.visVangstModalForm.$valid?(console.log("send form"),e.showError=!1,e.model={name:"",comments:""},t({method:"POST",url:ROUTEFRONT+"/api/save/visVangst",data:{input:e.visVagst}}).success(function(t,a,o,s){console.log(t),e.serverErrorMassage="success"!=t,l&&(n.location.reload(),console.log("reload page now"))}).error(function(t,a,o,n){e.serverErrorMassage=!0}),e.show_message=!0):e.showError=!0},e.visvanstMap={center:{latitude:center.latitude,longitude:center.longitude},options:{scrollwheel:!1,minZoom:7,maxZoom:17},control:{refresh:{latitude:center.latitude,longitude:center.longitude}},searchbox:{template:"searchbox.tpl.html",events:{places_changed:function(t){var a=t.getPlaces()[0].geometry.location;console.log(t.getPlaces());var o=a.lat(),n=a.lng();e.visvanstMap.center.latitude=o,e.visvanstMap.center.longitude=n,e.visvanstMap.zoom=15,e.visvanstMapMarkershowMarker=!0,s(a.lat(),a.lng()),e.$apply()}},options:{autocomplete:!1,types:["(cities)"],componentRestrictions:{country:["be","nl"]}}},zoom:10,events:{click:function(t,a,o){console.log(t.data);var n=o[0].latLng;e.visvanstMapMarkershowMarker=!0,s(n.lat(),n.lng()),e.$apply()}}},e.visvanstMapMarker={id:1,coords:{latitude:"",longitude:""},options:""};var l=!1;e.reloadPgage=function(e){l=e},e.saveViserActiviteit=function(t){e.show_message=!1,e.animatePopUp=!1,e.vangstVanVandaag=function(){e.show_gevangen=e.visVagst.vangst,e.visVagnstShowGoolgeMaps=!0};var o=new Date;o.setDate(o.getDate()+1),a.put("visActiviteitenWeek","false",{expires:o}),"ja"==t&&e.$watch("visVagst.myDate",function(){var t=e.visVagst.myDate;console.log(t)})}}]);